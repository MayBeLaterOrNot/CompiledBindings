<Page xmlns="http://xamarin.com/schemas/2014/forms"
      xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
      xmlns:m="http://compiledbindings.com"
      xmlns:ui="using:UI"
      xmlns:local="clr-namespace:XFTest"
      xmlns:system="using:System"
      xmlns:viewModels="using:XFTest.ViewModels"
      xmlns:views="clr-namespace:XFTest.Views"
      x:Class="XFTest.Views.Page1"
      x:DataType="viewModels:Page1ViewModel"
      x:Name="pageRoot"
      Title="{x:Set local:Strings.Instance.Title}">
  <Page.Resources>
    <DataTemplate x:Key="test1Template" x:DataType="viewModels:EntityViewModel">
      <Grid>
        <Label Text="{x:Bind Model.SByteProp}" />
        <Label Text="{x:Bind BooleanProp}" />
      </Grid>
    </DataTemplate>

    <DataTemplate x:Key="testNestedDataTemplate">
      <CollectionView>
        <CollectionView.ItemTemplate>
          <DataTemplate x:DataType="viewModels:EntityViewModel">
            <Grid>
              <Label Text="{x:Bind BooleanProp}" />
            </Grid>
          </DataTemplate>
        </CollectionView.ItemTemplate>
      </CollectionView>
    </DataTemplate>
  </Page.Resources>

  <StackLayout>
    <Label Text="{x:Set local:Strings.Instance.Header1}"/>
    <Label Text="{x:Bind DecimalProp}"/>
    <Label Text="{x:Bind DecimalProp + 1}"/>
    <Label Text="{x:Bind NullableIntProp ?? 0}"/>
    <Label Text="{x:Bind !BooleanProp}"/>
    <Entry Text="{x:Bind BooleanProp, BindBack=SetValue}"
           IsFocused="{x:Bind FocusedField[Field1], Mode=OneWayToSource}"
           m:SetFocused="{x:Bind FocusedField[Field1]}"/>
    <CollectionView x:Name="list"
                    ItemTemplate="{StaticResource test1Template}"
                    IsVisible="{x:Bind ArrayProp.Length > 0}"
                    ItemsSource="{x:Bind ListProp}"/>
    <Button x:DataType="{x:Null}" IsEnabled="{x:Bind ((viewModels:EntityViewModel)list.SelectedItem).BooleanProp}"/>
  </StackLayout>

</Page>